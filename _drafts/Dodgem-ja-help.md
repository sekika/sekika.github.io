---
layout: post
title: ドッジェムの遊び方
en: /dodgem/help/
hashtag: dodgem
permalink: /dodgem/ja/help/
tags:
- game
- javascript
---
このページでは[ドッジェム](/dodgem/ja/)の遊び方を説明します。

## ルール
n×n の盤面に、左端の列に青の駒を n−1 個、最下段に赤の駒を n−1 個並べます。下図は n=4 の例です。

<img src="/file/dodgem/initial4.jpg" width="250px">

- 手番は青が先手、赤が後手で、交互に1手ずつ指します。
- 青の駒の前進方向は右です。1マス右へ進むか、上下に1マスの横移動ができます。
- 赤の駒の前進方向は上です。1マス上へ進むか、左右に1マスの横移動ができます。
- 駒は空いているマスにのみ移動できます。ジャンプ・取り・重ね置きはできません。
- 駒が出口の縁（青: 右端列、赤: 最上段）に到達したら、次の手で盤外に取り除けます。
- 相手の動きを完全に妨害してはなりません。言い換えると、自分の手番に合法手がないときは自分の勝ちです。
- 自分の駒をすべて取り除いたプレイヤーが勝者です。
- 同一局面が3回出現した場合は引き分けです。

## 操作方法
- 動かしたい駒をクリック／タップし、行き先を選びます。
- 同じ駒をダブルクリック（ダブルタップ）すると、取り除ける状態であれば取り除きます。
- 盤サイズ、先後、コンピュータの強さ（レベル1〜3）を選び、「ゲーム開始」ボタンで新しい対局を開始します。
- 「観戦」を選ぶとコンピュータ同士で対局します。再生速度を選べ、100 を選ぶと 100 局を連続で実行します。対局中でも速度変更や停止が可能です。
- 同じ設定で連続対局すると勝敗が記録されます。ページの再読み込みや中断で記録はリセットされます。

## 盤サイズ別の戦略
3×3 は先手勝ちが知られており、4×4 と 5×5 は最善手同士なら引き分けになります。
- まずは 3×3 の先手で、確実にコンピュータに勝てることを目指しましょう。
- 4×4 と 5×5 では最善相手に勝つことはできませんが、レベル1・2なら十分に勝機があります。特に先手は勝ちやすいので、先手では勝ち、後手では引き分けを狙いましょう。
- 4×4 のレベル3ではコンピュータに勝つのはほぼ不可能なので、引き分け確保を重視します。コンピュータが必勝局面を検出すると通知が表示されます。これらを理解してからレベル1・2に戻ると、勝率向上に役立ちます。
- 4×4 以上で人間同士が対戦する場合は、チェスのタイトル戦のように先後を同数回ずつ入れ替えて結果を比較すると公平です。

## このプログラムについて
- このオンライン版は JavaScript で実装されています。[ソースコード](https://github.com/sekika/sekika.github.io/tree/master/js/dodgem.js)。実行には [pako](https://cdnjs.com/libraries/pako) を読み込みます。
- オンライン版では、ほぼ完全読みの解析を行う [Python プログラム](https://sekika.github.io/dodgem-py/) により MongoDB 上でオフライン生成した局面評価データベースの一部を、圧縮 evalmap として読み込みます。オンライン版は MongoDB を使用しないため対応レベルは 1〜3 に限られ、MongoDB を用いるレベル4はローカル（CLI/GUI）版で利用できます。

## 参考文献
- Berlekamp, Elwyn R.; Conway, John Horton; Guy, Richard K. (2003), “Dodgem,” Winning Ways for your Mathematical Plays, vol. 3 (2nd ed.), A.K. Peters, pp. 749–750, ISBN 978-1-56881-143-7.
- [rec.games.abstract のディスカッションスレッド (1996)](https://ics.uci.edu/~eppstein/cgt/dodgem.html)。David desJardins による 4×4 と 5×5 の勝敗表が掲載され、いずれも引き分けと結論づけられています。
- [Wikipedia: Dodgem](https://en.wikipedia.org/wiki/Dodgem)
